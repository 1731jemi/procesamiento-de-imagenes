{"code":"!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var a={SIZE_WIDTH:300,SIZE_HEIGHT:300,SMALL_W:40,SMALL_H:40};var i=class{constructor(e){this.img=new Image,this.pantalla=e,this.readyToDraw=!1,this.drawSmallImg=this.drawSmallImg.bind(this),this.handleFileSelect=this.handleFileSelect.bind(this)}handleFileSelect(e){var t;\"drop\"===e.type&&(e.stopPropagation(),e.preventDefault(),t=e.dataTransfer.files),\"change\"===e.type&&(t=e.target.files);var n=[];let a=t[0];n.push(\"<li><strong>\",a.name,\"</strong> (\",a.type||\"n/a\",\") - \",a.size,\" bytes, last modified: \",a.lastModifiedDate.toLocaleDateString(),\"</li>\"),this.img.src=a.name,this.readyToDraw=!0,document.getElementById(\"list\").innerHTML=\"<ul>\"+n.join(\"\")+\"</ul>\"}drawSmallImg(e){let t=e.offsetX-2,n=e.offsetY-2;this.readyToDraw&&(t*=this.img.width/a.SIZE_WIDTH,n*=this.img.height/a.SIZE_HEIGHT,this.pantalla.strokeStyle=\"lightgray\",this.pantalla.imageSmoothingEnabled=!1,this.pantalla.drawImage(this.img,0,0,a.SIZE_WIDTH,a.SIZE_HEIGHT),this.pantalla.strokeRect(e.clientX,e.clientY,a.SMALL_W,a.SMALL_H),this.pantalla.drawImage(this.img,Math.floor(t-3),Math.floor(n-3),5,5,e.clientX,e.clientY,a.SMALL_W,a.SMALL_H))}get image(){return this.img}set imageWidth(e){this.img.width=e}set imageHeight(e){this.img.height=e}};let r,l;r=document.getElementById(\"img\"),l=r.getContext(\"2d\");var o=document.getElementById(\"img\"),s=new i(l);s.image.onload=function(){s.pantalla.drawImage(s.image,0,0,a.SIZE_WIDTH,a.SIZE_HEIGHT)},r.addEventListener(\"mousemove\",s.drawSmallImg),document.getElementById(\"files\").addEventListener(\"change\",s.handleFileSelect,!1),o.addEventListener(\"dragover\",(function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"}),!1),o.addEventListener(\"drop\",s.handleFileSelect,!1)}]);","extractedComments":[]}